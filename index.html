<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>200 days of streak</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <div class="content">
            <h1 class="title">Something Special Awaits</h1>
            <p class="subtitle">Click the button below for a surprise!</p>
            <button class="surprise-btn" id="surpriseBtn">
                <span class="btn-text">Click Me!</span>
                <div class="btn-sparkles">
                    <span class="sparkle"></span>
                    <span class="sparkle"></span>
                    <span class="sparkle"></span>
                </div>
            </button>
        </div>

        <!-- Balloon Container -->
        <div class="balloon-container" id="balloonContainer">
            <div class="balloon">
                <div class="balloon-body"></div>
                <div class="balloon-string"></div>
                <div class="balloon-message">
                    <h2>WELCOME TO</h2>
                    <h1>200 STREAK</h1>
                    <h2>BISOLA</h2>
                    <div class="celebration-emojis">ðŸŽ‰âœ¨ðŸŽˆ</div>
                </div>
            </div>
            <div class="confetti">
                <div class="confetti-piece"></div>
                <div class="confetti-piece"></div>
                <div class="confetti-piece"></div>
                <div class="confetti-piece"></div>
                <div class="confetti-piece"></div>
                <div class="confetti-piece"></div>
                <div class="confetti-piece"></div>
                <div class="confetti-piece"></div>
            </div>
        </div>
    </div>
<script>
  const surpriseBtn = document.getElementById('surpriseBtn');
  const balloonContainer = document.getElementById('balloonContainer');

  // Simple short fanfare (base64-encoded small WAV-ish-ish placeholder sound)
  const fanfare = new Audio(
    "data:audio/wav;base64,UklGRhQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YVQAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
    "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" 
  );
  // Optional pop to layer before fanfare
  const pop = new Audio(
    "data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAIA+AAACABAAZGF0YRAAAA=="
  );

  // Touch feedback class toggle
  surpriseBtn.addEventListener('touchstart', () => {
    surpriseBtn.classList.add('touch-pressed');
  });
  surpriseBtn.addEventListener('touchend', () => {
    surpriseBtn.classList.remove('touch-pressed');
  });

  surpriseBtn.addEventListener('click', function () {
    // show celebration
    balloonContainer.classList.add('show');
    // force reflow to ensure animations trigger reliably on mobile
    void balloonContainer.offsetWidth;

    // hide button after a short delay so animation is visible
    surpriseBtn.style.display = 'none';

    // play layered sound: pop then fanfare
    pop.currentTime = 0;
    fanfare.currentTime = 0;
    pop.play().catch(() => { /* ignore autoplay block if any */ });
    setTimeout(() => {
      fanfare.play().catch(() => { /* fallback */ });
    }, 250);
  });

  // Click anywhere to hide balloon and restore button
  balloonContainer.addEventListener('click', function () {
    balloonContainer.classList.remove('show');
    setTimeout(() => {
      surpriseBtn.style.display = 'inline-block';
    }, 500);
  });
</script>

</body>
</html>
